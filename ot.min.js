let game={score:0,stage:""};const initialGame={score:0,stage:""};function updateScore(a){let b=document.getElementById("score-num");game.score=+a,b.innerHTML=game.score}function updateStage(a){let b=document.getElementById("stage");b.innerHTML=a}function reset(){game=initialGame,updateScore(game.score),updateStage(game.stage)}$(document).ready(function(){let a=$(document);new scoreBoard;let b=new startScreen;b.showStartMenu();let c=new chapterScreen;a.on("click","#start-new-btn",function(){reset(),c.show(),b.resume()}),a.on("click","#resume-btn",function(){b.resume()}),a.on("click","#menu",function(){b.pause()})});function btn(a,b){return b||(b="red-color"),"<button class=\"btn +"+b+"\">"+a+"</button>"}function chapterScreen(){let a=document.getElementById("frame");a.classList.add("chapters-frame");let b=document.createElement("div");b.id="chapter-wrapper",b.classList.add("chapter-selector");let c=["\u0628\u0631\u0627\u062F\u0631 \u0628\u0632\u0631\u06AF\u062A\u0631 \u0645\u0646","\u062F\u0648\u0633\u062A \u0627\u0628\u062F\u06CC \u0645\u0646","\u062D\u0642\u0627\u06CC\u0642 \u0627\u0648\u062A\u06CC\u0633\u0645","\u0646\u06AF\u0631\u0627\u0646\u06CC \u0645\u0627\u062F\u0631"];for(let a,d=0;3>=d;d++)a=document.createElement("div"),a.id="chapter-"+(d+1),a.classList.add("chapter"),a.classList.add("chapter-"+(d+1)),a.setAttribute("data-chapter",d+1),a.appendChild(document.createTextNode(c[d])),b.appendChild(a);this.show=function(){a.appendChild(b)}}function menuButton(a,b){let c=document.createElement("button");return c.setAttribute("class","start-btn btn"),b&&(b.id&&(c.id=b.id),b.class&&c.classList.add(b.class)),c.appendChild(document.createTextNode(a)),c}function menu(){let a=document.createElement("div");a.id="menu";let b=document.createElement("img");return b.src="assets/img/menu.png",a.appendChild(b),a}function score(){let a=document.createElement("div");a.id="score";let b=document.createElement("span");b.id="score-text",b.appendChild(document.createTextNode("\u0627\u0645\u062A\u06CC\u0627\u0632"));let c=document.createElement("span");return c.id="score-num",a.appendChild(b),a.appendChild(c),a}function startScreen(){this.isPaused=!1;let a=document.createElement("div");a.id="start-screen";let b=document.createElement("div");b.id="inner-screen";let c=document.getElementById("ot"),d=document.getElementById("frame");b.appendChild(new menuButton("\u0634\u0631\u0648\u0639",{id:"start-new-btn",class:"start-new-btn"})),b.appendChild(new menuButton("\u0645\u0646\u0627\u0628\u0639",{id:"credits-btn",class:"credits-btn"})),b.appendChild(new menuButton("\u062F\u0631\u0628\u0627\u0631\u0647",{id:"about-btn",class:"about-btn"})),a.appendChild(b),this.showStartMenu=function(){c.appendChild(a)},this.pause=function(){$("#resume-btn").length||b.prepend(new menuButton("\u0627\u062F\u0627\u0645\u0647",{id:"resume-btn",class:"resume-btn"})),a.classList.add("fadein"),a.classList.remove("hidden"),a.classList.remove("fadeout"),d.classList.remove("fadein"),d.classList.add("fadeout"),d.classList.add("hidden"),this.isPaused=!0},this.resume=function(){d.classList.remove("fadeout"),d.classList.remove("hidden"),d.classList.add("fadein"),a.classList.remove("fadein"),a.classList.add("fadeout"),a.classList.add("hidden"),this.isPaused=!1}}function dialogue(a,b){return"<div class=\"dialogue\"><h1>"+a+"</h1><p>"+b+"</p></div>"}function dialogue_html(a){return"<div class=\"dialogue\">"+a+"</div>"}function scoreBoard(){let a=document.getElementById("frame");this.scoreBoard=document.createElement("div"),this.scoreBoard.id="score-board",this.scoreBoard.appendChild(new menu),this.scoreBoard.appendChild(new stage),this.scoreBoard.appendChild(new score),a.appendChild(this.scoreBoard)}function stage(){let a=document.createElement("div");a.id="stage";let b=document.createElement("span");return b.id="stage-text",a.appendChild(b),a}var levels=[{levelId:1,levelName:"\u0628\u0631\u0627\u062F\u0631 \u0628\u0632\u0631\u06AF\u062A\u0631 \u0645\u0646",stages:[{stageId:1,sections:[{sectionId:1,sectionType:0,dialogueSection:{person:"\u0633\u067E\u0647\u0631",personPic:"",dialogue:"\u0633\u0644\u0627\u0645 \u0645\u0646 \u0633\u067E\u0647\u0631\u0645 \u0648 \u0628\u0631\u0627\u062F\u0631 \u0628\u0632\u0631\u06AF \u062A\u0631\u0645 \u0633\u06CC\u0646\u0627 \u0645\u0628\u062A\u0644\u0627 \u0628\u0647 \u0627\u0648\u062A\u06CC\u0633\u0645\u0647. \u0645\u0631\u062F\u0645 \u0627\u0632 \u0645\u0646 \u0645\u06CC\u067E\u0631\u0633\u0646 \u06A9\u0647 \u0686\u0647 \u062D\u0633\u06CC \u062F\u0627\u0631\u0647 \u0628\u0631\u0627\u062F\u0631\u062A \u0627\u0648\u062A\u06CC\u0633\u0645 \u062F\u0627\u0631\u0647\u061F \u0633\u062E\u062A\u0647\u061F \u062E\u0633\u062A\u0647 \u06A9\u0646\u0646\u062F\u0633\u061F\u0686\u0642\u062F\u0631 \u0641\u0631\u0642 \u062F\u0627\u0631\u0647\u061F"}},{sectionId:2,sectionType:1,optionSection:{header:"",desc:"\u0686\u0647 \u062D\u0633\u06CC \u062F\u0627\u0631\u0647 \u0628\u0631\u0627\u062F\u0631\u062A \u0627\u0648\u062A\u06CC\u0633\u0645 \u062F\u0627\u0631\u0647\u061F \u0633\u062E\u062A\u0647\u061F \u062E\u0633\u062A\u0647 \u06A9\u0646\u0646\u062F\u0633\u061F\u0686\u0642\u062F\u0631 \u0641\u0631\u0642 \u062F\u0627\u0631\u0647\u061F                            ",background:"",options:[{optionId:1,title:"\u0646\u0647 \u0648\u0627\u0642\u0639",color:"",event:{nextStage:2,score:0}},{optionId:2,title:"\u0648\u062D\u0634\u062A\u0646\u0627\u06A9\u0647",color:"",event:{nextStage:2,score:0}},{optionId:3,title:"\u0648\u062D\u0634\u062A\u0646\u0627\u06A9\u0647",color:"\u0645\u0647\u0645 \u0646\u06CC\u0633\u062A \u0628\u0631\u0627\u0645",event:{nextStage:2,score:0}}]}}]},{stageId:2,sections:[{sectionId:1,sectionType:0,dialogueSection:{person:"\u0633\u067E\u0647\u0631",personPic:"",dialogue:"\u0648 \u0645\u06CC\u062E\u0646\u062F\u0645. \u0627\u0631\u0647 \u0645\u062A\u0641\u0627\u0648\u062A\u0647 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u0628\u0631\u0627\u062F\u0631 \u0628\u0632\u0631\u06AF \u062A\u0631\u0645 \u0646\u0645\u06CC \u062A\u0648\u0646\u0647 \u067E\u0634\u062A\u0645 \u0631\u0648 \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u0647 \u0648 \u06CC\u0627 \u062F\u0631 \u0645\u0648\u0631\u062F \u0633\u0644\u06CC\u0642\u0645 \u062A\u0648 \u0627\u0646\u062A\u062E\u0627\u0628 \u0646\u0627\u0645\u0632\u062F\u0645 \u06AF\u06CC\u0631 \u0628\u062F\u0647. \u0646\u0645\u06CC \u062A\u0648\u0646\u0647 \u0645\u0648\u0642\u0639\u06CC \u06A9\u0647 \u062F\u0627\u0631\u0646 \u0645\u0646\u0648 \u062A\u0648 \u06A9\u0648\u0686\u0647 \u06A9\u0645\u06A9 \u0645\u06CC\u0632\u0646\u0646 \u0639\u06CC\u0646 \u06CC\u0647 \u0642\u0647\u0631\u0645\u0627\u0646 \u0628\u06CC\u0627\u062F \u0648 \u0628\u0631\u0627\u062F\u0631 \u06A9\u0648\u0686\u06CC\u06A9\u062A\u0631\u0634 \u0631\u0648 \u0646\u062C\u0627\u062A \u0628\u062F\u0647."}},{sectionId:2,sectionType:1,optionSection:{desc:"\u0648\u0627\u0642\u0639\u06CC\u062A\u0634 \u0631\u0648 \u0628\u062E\u0648\u0627\u06CC\u0646",header:"",background:"",options:[{optionId:1,title:"\u062F\u0648\u0633\u062A \u062F\u0627\u0634\u062A\u0645 \u0627\u06CC\u0646\u062C\u0648\u06CC \u0628\u0627\u0634\u0647",color:"",event:{nextStage:3,score:0}},{optionId:2,title:"\u0645\u0647\u0645 \u0646\u06CC\u0633\u062A \u0628\u0631\u0627\u0645",color:"",event:{nextStage:3,score:0}}]}}]},{stageId:3,sections:[{sectionId:1,sectionType:0,dialogueSection:{person:"\u0633\u067E\u0647\u0631",personPic:"",dialogue:" \u0648\u0644\u06CC \u0645\u0627 \u0635\u0645\u06CC\u0645\u06CC\u062A \u062E\u0627\u0635 \u062E\u0648\u062F\u0645\u0648\u0646 \u0631\u0648 \u062F\u0627\u0631\u06CC\u0645. \u0633\u06CC\u0646\u0627 \u0645\u06CC\u0641\u0647\u0645\u0647 \u06A9\u0647 \u0627\u0648\u0646 \u0628\u0631\u0627\u062F\u0631 \u0628\u0632\u0631\u06AF \u062A\u0631 \u0645\u0646\u0647."}},{sectionId:2,sectionType:1,optionSection:{desc:"\u0628\u0639\u0636\u06CC \u0648\u0642\u062A \u0647\u0627",header:"",background:"",options:[{optionId:1,title:"\u0648\u0633\u0637 \u0631\u0627\u0647\u0631\u0648 \u0628\u0627 \u062F\u0633\u062A\u0627\u0634 \u0628\u0647\u0645 \u062A\u06CC\u0631 \u0645\u06CC\u0632\u0646\u0647",color:"",event:{nextStage:4,score:0}},{optionId:2,title:"\u06CC\u0647\u0648 \u062F\u0627\u062F \u0645\u06CC\u0632\u0646\u0647 \u0633\u067E\u0647\u0631 \u0631\u0648 \u06A9\u0648\u0633\u0647 \u062E\u0648\u0631\u062F",color:"",event:{nextStage:4,score:0}},{optionId:3,title:"\u0639\u0645\u0648 \u06CC\u0647 \u062F\u062E\u062A\u0631",color:"",event:{nextStage:4,score:0}}]}}]},{stageId:4,sections:[{sectionId:1,sectionType:0,dialogueSection:{person:"\u0633\u067E\u0647\u0631",personPic:"",dialogue:" \u0648\u0644\u06CC \u0645\u0627 \u0635\u0645\u06CC\u0645\u06CC\u062A \u062E\u0627\u0635 \u062E\u0648\u062F\u0645\u0648\u0646 \u0631\u0648 \u062F\u0627\u0631\u06CC\u0645. \u0633\u06CC\u0646\u0627 \u0645\u06CC\u0641\u0647\u0645\u0647 \u06A9\u0647 \u0627\u0648\u0646 \u0628\u0631\u0627\u062F\u0631 \u0628\u0632\u0631\u06AF \u062A\u0631 \u0645\u0646\u0647.\u0645\u06CC\u062F\u0648\u0646\u0647 \u0686\u06A9\u0627\u0631 \u06A9\u0646\u0647 \u06A9\u0647 \u0628\u0647\u0634 \u062A\u0648\u062C\u0647 \u06A9\u0646\u0645. \u0648 \u0628\u0639\u0636\u06CC \u0645\u0648\u0627\u0642\u0639 \u0645\u0646\u0648 \u0628\u0627 \u062A\u0645\u0627\u0645 \u0632\u0648\u0631\u0634 \u0628\u0642\u0644 \u0645\u06CC \u06A9\u0646\u0647. \u0639\u06CC\u0646 \u062E\u06CC\u0644\u06CC \u0627\u0632 \u0628\u0631\u0627\u062F\u0631 \u062E\u0648\u0627\u0647\u0631\u0627 \u0631\u0648 \u0645\u062E \u0647\u0645 \u0645\u06CC\u0631\u06CC\u0645 \u0648 \u0628\u0627\u0647\u0627\u0645 \u06A9\u0634\u062A\u06CC \u0645\u06CC\u06AF\u06CC\u0631\u0647 \u06A9\u0647 \u062D\u0642 \u0628\u0627 \u06A9\u06CC\u0647."}},{sectionId:2,sectionType:1,optionSection:{desc:"\u0645\u0646",header:"",background:"",options:[{optionId:1,title:"\u0628\u0627 \u062A\u0645\u0627\u0645 \u0648\u062C\u0648\u062F \u0627\u0632 \u0628\u0631\u0627\u062F\u0631\u0645 \u0645\u062D\u0627\u0641\u0638\u062A \u0645\u06CC \u06A9\u0646\u0645",color:"",event:{nextStage:5,score:0}},{optionId:2,title:"\u0635\u0645\u06CC\u0645\u0627\u0646\u0647 \u062A\u0631\u06CC\u0646 \u0631\u0627\u0628\u0637\u0647 \u0631\u0648 \u0628\u0627\u0647\u0627\u0634 \u062F\u0627\u0631\u0645",color:"",event:{nextStage:5,score:0}},{optionId:3,title:"\u0647\u0645\u06CC\u0634\u0647 \u0627\u0630\u06CC\u062A\u0634 \u0645\u06CC \u06A9\u0646\u0645",color:"",event:{nextStage:5,score:0}}]}}]},{stageId:5,sections:[{sectionId:1,sectionType:0,dialogueSection:{person:"\u0633\u067E\u0647\u0631",personPic:"",dialogue:"\u0648\u0644\u06CC \u062F\u0631 \u0627\u062E\u0631 \u0631\u0648\u0632 \u0627\u0648\u0646 \u0628\u0631\u0627\u062F\u0631 \u0645\u0646\u0647"}},{sectionId:2,sectionType:1,optionSection:{desc:"\u0628\u0631\u06CC\u0645",header:"",background:"",options:[{optionId:1,title:"\u062E\u0648\u0646\u0647 \u0628\u0627\u0632\u06CC \u06A9\u0646\u06CC\u0645",color:"",event:{nextStage:6,score:0}},{optionId:2,title:"\u067E\u0627\u0631\u06A9 \u0642\u062F\u0645 \u0628\u0632\u0646\u06CC\u0645",color:"",event:{nextStage:6,score:0}},{optionId:3,title:"\u0628\u0631\u06CC\u0645 \u0628\u06CC\u0631\u0648\u0646 \u063A\u0630\u0627 \u0628\u062E\u0648\u0631\u06CC\u0645",color:"",event:{nextStage:6,score:0}},{optionId:4,title:"\u0644\u0628 \u0633\u0627\u062D\u0644 \u0644\u0630\u062A \u0628\u0628\u0631\u06CC\u0645",color:"",event:{nextStage:6,score:0}}]}}]},{stageId:6,sections:[{sectionId:1,sectionType:0,dialogueSection:{person:"\u0633\u067E\u0647\u0631",personPic:"",dialogue:"\u0633\u06CC\u0646\u0627 \u062E\u06CC\u0644\u06CC \u0627\u062F\u0645 \u062E\u0627\u0635\u06CC\u0647. \u0646\u0647 \u0628\u062E\u0627\u0637\u0631 \u0627\u06CC\u0646 \u06A9\u0647 \u0627\u0648\u062A\u06CC\u0633\u0645 \u062F\u0627\u0631\u0647. \u0686\u0648\u0646 \u0648\u0627\u0642\u0639\u0627 \u062E\u0627\u0631\u0642\u0627\u0644\u0639\u0627\u062F\u0633. \u0645\u0627\u0645\u0627\u0646\u0645 \u0648\u0642\u062A\u06CC \u0633\u06CC\u0646\u0627 \u0646\u0647 \u0633\u0627\u0644\u0634 \u0628\u0648\u062F \u0628\u0647\u0634 \u06AF\u0641\u062A\u0646  \u06A9\u0647 \u062F\u06CC\u06AF\u0647 \u0628\u0647 \u062C\u0644\u0633\u0627\u062A \u062F\u0631\u0645\u0627\u0646\u06CC \u0646\u06CC\u0627\u062F.\u0686\u0648\u0646 \u0647\u06CC\u0686 \u0648\u0642\u062A \u0646\u0645\u06CC \u062A\u0648\u0646\u0647 \u0635\u062D\u0628\u062A \u06A9\u0631\u062F\u0646 \u0628\u0647\u062A\u0631 \u0628\u0634\u0647 \u06CC\u0627 \u0628\u0627 \u0627\u062F\u0645\u0627 \u0628\u062A\u0648\u0646\u0647 \u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0631\u0642\u0631\u0627\u0631 \u06A9\u0646\u0647. \u062F\u06CC\u06AF\u0647 \u0627\u062E\u0631\u06CC\u0646 \u062D\u062F \u0638\u0631\u0641\u06CC\u062A\u0634 \u0627\u06CC\u0646\u0647."}},{sectionId:2,sectionType:1,optionSection:{desc:"\u0648 \u0627\u0648\u0646 \u0645\u0648\u0642\u0639",header:"",background:"",options:[{optionId:1,title:"\u062F\u0627\u062F \u0632\u062F\u0645 \u0648 \u06AF\u0641\u062A\u0645 \u0627\u0648\u0646 \u0628\u0647\u062A\u0631 \u0645\u06CC\u0634\u0647",color:"",event:{nextStage:7,score:0}},{optionId:2,title:"\u0631\u0641\u062A\u0645 \u06CC\u0647 \u06AF\u0648\u0634\u0647 \u0648 \u06AF\u0631\u06CC\u0647 \u06A9\u0631\u062F\u0645",color:"",event:{nextStage:7,score:0}},{optionId:3,title:"\u062F\u0627\u062F \u0632\u062F\u0645 \u0648 \u06AF\u0641\u062A\u0645 \u0627\u0648\u0646 \u0628\u0647\u062A\u0631 \u0645\u06CC\u0634\u0647",color:"",event:{nextStage:7,score:0}}]}}]},{stageId:7,sections:[{sectionId:1,sectionType:0,dialogueSection:{person:"\u0633\u067E\u0647\u0631",personPic:"",dialogue:"\u0648\u0644\u06CC \u0627\u0648\u0646 \u0648\u0642\u062A\u06CC \u0628\u0632\u0631\u06AF \u062A\u0631 \u0634\u062F \u062A\u0648\u0646\u0633\u062A \u06CC\u0647 \u0627\u0633\u06A9\u06CC\u062A \u0628\u0631\u0627\u06CC \u062E\u0648\u062F\u0634 \u0628\u062E\u0631\u0647.\u0628\u0627 \u062F\u0648\u0633\u062A\u0627\u0634 \u0627\u0648\u0627\u0632 \u0628\u062E\u0648\u0646\u0647 \u0648 \u062D\u062A\u06CC \u062A\u0648 \u0645\u0633\u0627\u0628\u0642\u0627\u062A \u06A9\u0634\u0648\u0631\u06CC \u0645\u0642\u0627\u0645 \u0628\u06CC\u0627\u0631\u0647 \u0645\u06CC\u062A\u0648\u0646\u0647 \u0646\u0642\u0627\u0634\u06CC \u06A9\u0646\u0647\u060C \u0627\u0648\u0627\u0632 \u0628\u062E\u0648\u0646\u0647\u060C \u0627\u0633\u06A9\u06CC\u062A \u0633\u0648\u0627\u0631 \u0634\u0647 \u0648 \u062D\u062A\u06CC \u0634\u0646\u0627 \u06A9\u0646\u0647. \u062A\u0645\u0627\u0645 \u06A9\u0627\u0631 \u0647\u0627\u06CC \u06A9\u0647 \u0645\u0646 \u0645\u06CC \u06A9\u0646\u0645. \u0648\u0644\u06CC \u0628\u0647 \u062E\u0627\u0637\u0631 \u0627\u06CC\u0646 \u062E\u0627\u0635 \u0646\u06CC\u0633\u062A \u0627\u0648\u0646 \u0645\u06CC \u062A\u0648\u0646\u0647 \u0647\u0631 \u06A9\u0633\u06CC \u06A9\u0647 \u0627\u0637\u0631\u0627\u0641\u0634\u0647 \u0631\u0648 \u062E\u0648\u0634\u062D\u0627\u0644 \u06A9\u0646\u0647. \u062E\u0627\u0646\u0648\u0627\u062F\u0634 \u060C \u062C\u0645\u0639 \u062F\u0648\u0633\u062A\u0627\u0645\u0648\u0646 \u0648 \u062D\u062A\u06CC \u0647\u0645\u06A9\u0627\u0631\u0627\u0634!"}},{sectionId:2,sectionType:1,optionSection:{desc:"\u0628\u0627\u0639\u062B \u0645\u06CC\u0634\u0647 \u0645\u0646...",header:"",background:"",options:[{optionId:1,title:"\u0647\u0645 \u062E\u0648\u0634\u062D\u0627\u0644 \u0628\u0634\u0645 \u0648 \u0627\u062F\u0645 \u0628\u0647\u062A\u0631\u06CC \u0628\u0627\u0634\u0645",color:"",event:{nextStage:7,score:0}},{optionId:2,title:"\u0628\u0647\u0634 \u062D\u0633\u0648\u062F\u06CC\u0645 \u0645\u06CC\u0634\u0647 \u0648 \u062F\u0644\u0645 \u0645\u06CC\u062E\u0648\u0627\u062F \u0645\u0646\u0645 \u062A\u0627\u062B\u06CC\u0631 \u06AF\u0632\u0627\u0631 \u0628\u0627\u0634\u0645",color:"",event:{nextStage:7,score:0}},{optionId:3,title:"\u062E\u06CC\u0644\u06CC \u0686\u06CC\u0632\u0627 \u0627\u0632\u0634 \u06CC\u0627\u062F\u06AF\u0631\u0641\u062A\u0645",color:"",event:{nextStage:7,score:0}}]}},{sectionId:3,sectionType:0,dialogueSection:{person:"\u0633\u067E\u0647\u0631",personPic:"",dialogue:"\u0645\u0646\u0648\u0646\u0645 \u0633\u06CC\u0646\u0627.\u0628\u0631\u0627\u06CC \u0647\u0645\u0647 \u0686\u06CC\u0632. \u067E\u0633 \u0645\u06CC \u062E\u0648\u0627\u06CC\u0646 \u0628\u062F\u0648\u0646\u06CC\u0646 \u062F\u0627\u0634\u062A\u0646 \u06CC\u0647 \u0628\u0631\u0627\u062F\u0631 \u0627\u0648\u062A\u06CC\u0633\u0645\u06CC \u0686\u062C\u0648\u0631\u06CC. \u0628\u06CC\u0646\u0638\u06CC\u0631\u0647!!!"}}]}]}];function sound(a){this.sound=document.createElement("audio"),this.sound.src="./assets/audio/"+a,this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),this.sound.style.display="none",document.body.appendChild(this.sound),this.play=function(){this.sound.play()},this.stop=function(){this.sound.pause()}}